(()=>{"use strict";const t=function(){function t(t){this.piece=t}return t.prototype.setSelected=function(t){this.selected=t},t}();var e=function(){function e(t,e,i,s,h,l){this.width=t,this.height=e,this.files=i,this.ranks=s,this.theme=h,this.pieceTheme=l,this.cellWidth=this.width/this.files,this.cellHeight=this.height/this.ranks,this.pieceOffset=.1*this.cellHeight,this.$canvas=document.createElement("canvas"),this.ctx=this.$canvas.getContext("2d"),this.$canvas.width=this.width,this.$canvas.height=this.height,document.body.appendChild(this.$canvas),document.body.style.display="grid",document.body.style.placeItems="center",document.body.style.height="100%",document.body.parentElement.style.height="100%",document.body.style.backgroundColor="#333333",this.boardMatrix=[];for(var c=0;c<this.files;c++){this.boardMatrix[c]=[];for(var n=0;n<this.ranks;n++)this.boardMatrix[c][n]=null}this.setMouseCell=this.setMouseCell.bind(this),this.$canvas.addEventListener("mousedown",(function(){console.log("Drag")})),this.$canvas.addEventListener("mouseup",(function(){console.log("Drop"),console.clear()})),this.$canvas.addEventListener("mousemove",this.setMouseCell)}return e.prototype.setMouseCell=function(t){var e,i,s,h,l=t.offsetX,c=t.offsetY;e=Math.floor(l/this.cellWidth),i=Math.floor(c/this.cellHeight),e==s&&i==h||(s=e,h=i,console.log(s,h))},e.prototype.initPlacePiece=function(e,i,s){this.boardMatrix[e][i]=new t(s)},e.prototype.render=function(){for(var t,e,i,s=this.theme.light,h=this.theme.dark,l=0;l<this.files;l++)for(var c=0;c<this.ranks;c++){(l+c)%2?(e=s,i=h):(e=h,i=s),this.ctx.fillStyle=e,this.ctx.fillRect(l*this.cellWidth,c*this.cellHeight,this.cellWidth,this.cellHeight),this.ctx.fillStyle=i,this.ctx.textBaseline="top",this.ctx.textAlign="start",this.ctx.font="8px Arial",this.ctx.fillText("[".concat(l,",").concat(c,"]"),l*this.cellWidth+10,c*this.cellHeight+10);var n=null===(t=this.boardMatrix[l][c])||void 0===t?void 0:t.piece;n&&(this.ctx.textBaseline="middle",this.ctx.textAlign="center",this.ctx.font="72px Arial",this.ctx.fillStyle=n.color,this.ctx.fillText(n.type[0],l*this.cellWidth+this.cellWidth/2,c*this.cellHeight+this.cellHeight/2+this.pieceOffset),this.ctx.fillStyle=this.pieceTheme.dark,this.ctx.fillText(n.type[1],l*this.cellWidth+this.cellWidth/2,c*this.cellHeight+this.cellHeight/2+this.pieceOffset))}},e}();const i=function(t,e){this.type=t,this.color=e};for(var s,h={light:"#ffffff",dark:"#000000"},l=new e(800,800,8,8,{light:"#eed2aa",dark:"#90502f"},h),c=["♚","♔"],n=["♛","♕"],o=["♜","♖"],a=["♝","♗"],r=["♞","♘"],d=["♟","♙"],f=0;f<8;f++)l.initPlacePiece(f,1,new i(d,h.dark)),l.initPlacePiece(f,6,new i(d,h.dark));for(f=0;f<2;f++)s=f%2?h.light:h.dark,l.initPlacePiece(0,7*f,new i(o,s)),l.initPlacePiece(7,7*f,new i(o,s)),l.initPlacePiece(1,7*f,new i(a,s)),l.initPlacePiece(6,7*f,new i(a,s)),l.initPlacePiece(2,7*f,new i(r,s)),l.initPlacePiece(5,7*f,new i(r,s)),l.initPlacePiece(4,7*f,new i(n,s)),l.initPlacePiece(3,7*f,new i(c,s));l.render()})();